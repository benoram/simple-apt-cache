# apt-cacher-ng configuration for simple-apt-cache container

# Cache directory
CacheDir: /var/cache/apt-cacher-ng

# Log directory
LogDir: /var/log/apt-cacher-ng

# Support directory for additional files
SupportDir: /usr/lib/apt-cacher-ng

# Port to listen on
Port: 3142

# Bind to all interfaces
BindAddress: 0.0.0.0

# Report page for monitoring
ReportPage: acng-report.html

# Log verbosity (0=minimal, 1=normal, 2=verbose)
VerboseLog: 1

# Expire cached files after 90 days (in days)
ExThreshold: 90

# Enable automatic expiration
ExStartTradeOff: 500m

# Expire files at startup if needed
ExAbortOnProblems: 0

# Pass through HTTPS connections (for repositories requiring SSL)
PassThroughPattern: .*

# Ubuntu repositories
Remap-ubuntu: /ubuntu ; http://archive.ubuntu.com/ubuntu ; http://ports.ubuntu.com/ubuntu-ports

# Debian repositories
Remap-debian: /debian ; http://deb.debian.org/debian

# Debian security
Remap-debrep: /debian-security ; http://security.debian.org/debian-security

# Additional common repositories
Remap-uburep: /ubuntu-ports ; http://ports.ubuntu.com/ubuntu-ports

# Patterns for files that should always be fetched fresh
PfilePatternEx: \.gpg$

# Network timeout settings
NetworkTimeout: 60

# Maximum connections per host
MaxConThreads: 4

# Enable debug mode (set to 0 in production)
Debug: 0

# DNS lookup timeout
DnsCacheSeconds: 2000

# Force directory listing to be fresh
FreshIndexMaxAge: 27
